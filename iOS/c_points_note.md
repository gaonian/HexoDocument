- size_t
  - 无符号，用于表示C中任何对象所能达到的最大长度
- ptrdiff_t
  - 用于处理指针算数运算
- intptr_t / uintptr_t
  - 用来存放指针地址，他们提供了一种可移植且安全的方法声明指针。而且和系统中使用的指针长度相同，对于把指针转化成整数形式来说很有用



- 指向常量的指针

  指针定义为指向常量。意味着不能通过解引用指针修改它所引用的值，但是可以改变指针的指向，因为指针的值不是常量

  ```c
  const int *pi;
  
  printf("%d", *pi)  // 正确
  
  *pi = 200; 				// 错误， 不能修改指向的常量值
  
  pi = &num;				// 正确， 不能修改指向的常量值，但可以修改指针引用
  ```

  

- 指向非常量的常量指针

  声明一个指向非常量的常量指针。意味着指针不可变，但是它所指向的数据可以变

  ``` c
  int num;
  int *const pi = &num;
  
  *pi = 200;		// 正确，因为指向的数据可变
  
  pi = &num1;		// 错误, 指针的值为常量，不可用修改其指向
  ```



- 指向常量的常量指针

  指针本身不可修改，且指向的数据也不能通过解引用修改

  ``` c
  const int *const pi = &num;
  
  *pi = 200;    // 错误，指向的值不可变
  
  pi = &num1;		// 错误，指针也不可重新修改指向
  ```



| 指针类型             | 指针是否可以修改 | 指针指向的数据是否可以修改 |
| -------------------- | ---------------- | -------------------------- |
| 指向非常量的指针     | 是               | 是                         |
| 指向常量的指针       | 是               | 否                         |
| 指向非常量的常量指针 | 否               | 是                         |
| 指向常量的常量指针   | 否               | 否                         |





- **malloc**

  ``` c
  void * malloc(size_t);
  ```

  malloc函数从堆上分配一块内存，所分配的字节数由该函数参数指定，返回值是void指针，如果内存不足，就会返回NULL。此函数不会清空或者修改内存

  > 因为当malloc无法分配内存时会返回NULL，在使用它返回的指针之前先检查NULL是不错的做法

  

- **calloc**

  calloc会在堆上分配内存的同时清空内存

  ``` c
  void * calloc(size_t numElements, size_t elementSize);
  ```

  calloc函数会根据numElements和elementSize两个参数的乘积来分配内存，并返回指向内存的第一个字节的指针。如果不能分配内存，则返回NULL。

  ``` c
  int *pi = calloc(5, sizeof(int));
  ```

  分配了20个字节，全部为0

  可以使用malloc和memset函数来实现和calloc一样的功能

  ``` c
  int *pi = malloc(5*sizeof(int));
  memset(pi, 0, 5*sizeof(int));
  ```

  memset函数会用某个值填充内存块。第一个参数是指向要填充区域的指针，第二个参数是填充的值，最后一个参数是要填充的字节数

  如果内存需要清零可以使用calloc，不过执行calloc可能比执行malloc慢



- **realloc**

  realloc主要作用是 在之前分配的内存块的基础上，将内存重新分配为更大或者更小的部分

  ``` c
  void * realloc(void *ptr, size_t size);
  ```

  第一个参数是指向原内存块的指针，第二个是重新请求的大小。 重新分配的块大小和第一个参数引用的块大小不同。 返回值是指向重新分配的内存的指针。

  请求的大小可以比当前分配的字节数小或者大。如果比当前分配的小，那么多余的内存会还给堆，不能保证多余的内存会被清空。如果比当前分配的大。那么可能的话，就在紧挨着当前分配内存的区域分配新的内存，否则就会在堆的其他区域分配并把旧的内存复制到新区域。

  如果大小是0而且指针非空，那么久释放内存。如果无法分配空间，那么原来的内存块就保持不变，不过返回的指针为空指针



- **free**

  释放分配的堆空间

  ``` c
  void free(void *ptr);
  ```

  指针参数应该指向由malloc类函数分配的内存的地址，这快内存会被返还给堆。尽管指针仍然指向这快区域，但是我们应该将它看成指向垃圾数据。

  应该在同一层管理内存的分配和释放，比如说，如果在函数内分配内存，那么久应该在同一个函数内释放它。